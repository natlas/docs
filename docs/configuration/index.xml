<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Natlas â€“ Configuration</title><link>/docs.natlas.io/docs/configuration/</link><description>Recent content in Configuration on Natlas</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Fri, 14 Aug 2020 00:00:00 +0000</lastBuildDate><atom:link href="/docs.natlas.io/docs/configuration/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Configuring Natlas Server</title><link>/docs.natlas.io/docs/configuration/server/</link><pubDate>Sun, 16 Aug 2020 00:00:00 +0000</pubDate><guid>/docs.natlas.io/docs/configuration/server/</guid><description>
&lt;p>There are a number of config options that you can specify in the application environment or in a file called &lt;code>.env&lt;/code> before initializing the database and launching the application. There are also a number of configuration options available for the server which change certain authentication-based behaviors as well as agent work configurations.&lt;/p>
&lt;h2 id="environment-config">Environment Config&lt;/h2>
&lt;p>Environment configs are loaded from the environment or a &lt;code>.env&lt;/code> file and require an application restart to change. Bind mounting a &lt;code>.env&lt;/code> file to &lt;code>/opt/natlas/natlas-server/.env&lt;/code> (rather than providing it as a docker env file) is encouraged so that passwords are not visible to the entire container.&lt;/p>
&lt;h3 id="core">Core&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>SECRET_KEY&lt;/code>&lt;/td>
&lt;td>Randomly generated&lt;/td>
&lt;td>Used for CSRF tokens and sessions. You should generate a unique value for this in &lt;code>.env&lt;/code>, otherwise sessions will be invalidated whenever the app restarts.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>SERVER_NAME&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>This should be set to the domain and optional port that your service will be accessed on. Do &lt;strong>NOT&lt;/strong> include the scheme here. E.g. &lt;code>example.com&lt;/code> or &lt;code>10.0.0.15:5000&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>PREFERRED_URL_SCHEME&lt;/code>&lt;/td>
&lt;td>&lt;code>https&lt;/code>&lt;/td>
&lt;td>You can optionally set this value to &lt;code>http&lt;/code> if you&amp;rsquo;re not using ssl. This should be avoided for any production environments.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>CONSISTENT_SCAN_CYCLE&lt;/code>&lt;/td>
&lt;td>&lt;code>False&lt;/code>&lt;/td>
&lt;td>Setting this to &lt;code>True&lt;/code> will cause the random scan order to persist between scan cycles. This will produce more consistent deltas between an individual host being scanned. &lt;strong>Note&lt;/strong>: Changes to the scope will still change the scan order, resulting in one cycle of less consistent timing.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="data-storage">Data Storage&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>DATA_DIR&lt;/code>&lt;/td>
&lt;td>&lt;code>/data&lt;/code>&lt;/td>
&lt;td>Path to store any data that should be persisted. Sqlite database, any log files, and media files all go in subdirectories of this directory.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>SQLALCHEMY_DATABASE_URI&lt;/code>&lt;/td>
&lt;td>&lt;code>sqlite:///$DATA_DIR/db/metadata.db&lt;/code>&lt;/td>
&lt;td>A &lt;a href="https://flask-sqlalchemy.palletsprojects.com/en/2.x/config/">SQLALCHEMY URI&lt;/a> that points to the database to store natlas metadata in. Supported types by natlas-server are: &lt;code>sqlite:&lt;/code>, &lt;code>mysql:&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ELASTICSEARCH_URL&lt;/code>&lt;/td>
&lt;td>&lt;code>http://localhost:9200&lt;/code>&lt;/td>
&lt;td>A URL that points to the elasticsearch cluster to store natlas scan data in&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MEDIA_DIRECTORY&lt;/code>&lt;/td>
&lt;td>&lt;code>$DATA_DIR/media/&lt;/code>&lt;/td>
&lt;td>If you want to store media (screenshots) in a larger mounted storage volume, set this value to an absolute path. If you change this value, be sure to copy the contents of the previous media directory to the new location, otherwise old media will not render.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="instrumentation">Instrumentation&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>SENTRY_DSN&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>Enables automatic reporting of all Flask exceptions to a &lt;a href="https://sentry.io/">Sentry.io instance&lt;/a>. Example: &lt;code>http://mytoken@mysentry.example.com/1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>SENTRY_ENVIRONMENT&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>Specifies the value to provided for the &lt;code>environment&lt;/code> tag in Sentry. Use it to differentiate between different stages or stacks. e.g. &lt;code>Beta&lt;/code> or &lt;code>Prod&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>SENTRY_JS_DSN&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>Enables automatic reporting of all JS errors to a &lt;a href="https://sentry.io/">Sentry.io instance&lt;/a>. This is separate from &lt;code>SENTRY_DSN&lt;/code> so you can report client-side errors separately from server-side.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>OPENCENSUS_ENABLE&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>Enables OpenCensus instrumentation to help identify performance bottlenecks.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>OPENCENSUS_SAMPLE_RATE&lt;/code>&lt;/td>
&lt;td>&lt;code>1.0&lt;/code>&lt;/td>
&lt;td>Specifies the percentage of requests that are traced with OpenCensus. A number from 0 to 1.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>OPENCENSUS_AGENT&lt;/code>&lt;/td>
&lt;td>&lt;code>127.0.0.1:55678&lt;/code>&lt;/td>
&lt;td>An OpenCensus agent or collector that this instance will emit traffic to.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="mail-settings">Mail Settings&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>MAIL_SERVER&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>Mail server to use for invitations, registrations, and password resets&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MAIL_PORT&lt;/code>&lt;/td>
&lt;td>&lt;code>587&lt;/code>&lt;/td>
&lt;td>Port that &lt;code>MAIL_SERVER&lt;/code> is listening on&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MAIL_USE_TLS&lt;/code>&lt;/td>
&lt;td>&lt;code>True&lt;/code>&lt;/td>
&lt;td>Whether or not to connect to &lt;code>MAIL_SERVER&lt;/code> with STARTTLS&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MAIL_USE_SSL&lt;/code>&lt;/td>
&lt;td>&lt;code>False&lt;/code>&lt;/td>
&lt;td>Whether or not to connect to &lt;code>MAIL_SERVER&lt;/code> with SSL (E.g. Port 465)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MAIL_USERNAME&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>Username (if required) to connect to &lt;code>MAIL_SERVER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MAIL_PASSWORD&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>Password (if required) to connect to &lt;code>MAIL_SERVER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>MAIL_FROM&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>Address to be used as the &amp;ldquo;From&amp;rdquo; address for outgoing mail. This is required if &lt;code>MAIL_SERVER&lt;/code> is set.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="development-settings">Development Settings&lt;/h3>
&lt;p>These settings are mostly only used for development purposes, and can have adverse effects if you modify them in your production environment.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>FLASK_ENV&lt;/code>&lt;/td>
&lt;td>&lt;code>production&lt;/code>&lt;/td>
&lt;td>Used to tell flask which environment to run. Only change this if you are debugging or developing, and never leave your server running in anything but &lt;code>production&lt;/code>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>FLASK_APP&lt;/code>&lt;/td>
&lt;td>&lt;code>natlas-server.py&lt;/code>&lt;/td>
&lt;td>The file name that launches the flask application. This should not be changed as it allows commands like &lt;code>flask run&lt;/code>, &lt;code>flask db upgrade&lt;/code>, and &lt;code>flask shell&lt;/code> to run.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_VERSION_OVERRIDE&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>&lt;strong>Danger&lt;/strong>: This can be optionally set for development purposes to override the version string that natlas thinks it&amp;rsquo;s running. Doing this can have adverse affects and should only be done with caution. The only reason to really do this is if you&amp;rsquo;re developing changes to the way host data is stored and presented.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="example-env">Example ENV&lt;/h3>
&lt;p>The following is an example ENV file that assumes your elasticsearch cluster is accessible at &lt;code>172.17.0.2:9200&lt;/code> and that your mail server is accessible with authentication at &lt;code>172.17.0.4&lt;/code>. If you do not have a mail server, remove &lt;code>MAIL_&lt;/code> settings.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># Flask Settings&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#000">SECRET_KEY&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>im-a-really-long-secret-please-dont-share-me
&lt;span style="color:#000">FLASK_ENV&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>production
&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># Data Stores&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#000">ELASTICSEARCH_URL&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>http://172.17.0.2:9200
&lt;span style="color:#8f5902;font-style:italic"># A mysql database via the mysqlclient driver&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#SQLALCHEMY_DATABASE_URI=mysql://natlas:password@172.18.0.5/natlas&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># A sqlite database with a custom name vs the default metadata.db&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#SQLALCHEMY_DATABASE_URI=sqlite:////data/db/test.db&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># Mail settings&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#000">MAIL_SERVER&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>172.17.0.4
&lt;span style="color:#000">MAIL_USERNAME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>dade.murphy
&lt;span style="color:#000">MAIL_PASSWORD&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>this-is-an-invalid-password
&lt;span style="color:#000">MAIL_FROM&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>noreply@example.com
&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#8f5902;font-style:italic"># Natlas Specific Settings&lt;/span>
&lt;span style="color:#8f5902;font-style:italic">#####&lt;/span>
&lt;span style="color:#000">CONSISTENT_SCAN_CYCLE&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>True
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="web-config">Web Config&lt;/h2>
&lt;p>Web configs are loaded from the SQL database and changeable from the web interface without requiring an application restart.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>LOGIN_REQUIRED&lt;/code>&lt;/td>
&lt;td>&lt;code>True&lt;/code>&lt;/td>
&lt;td>Require login to browse results&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>REGISTER_ALLOWED&lt;/code>&lt;/td>
&lt;td>&lt;code>False&lt;/code>&lt;/td>
&lt;td>Permit open registration for new users&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>AGENT_AUTHENTICATION&lt;/code>&lt;/td>
&lt;td>&lt;code>True&lt;/code>&lt;/td>
&lt;td>Optionally require agents to authenticate before being allowed to get or submit work&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>CUSTOM_BRAND&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>Custom branding for the navigation bar to help distinguish different natlas installations from one another&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Docs: Configuring Natlas Agent</title><link>/docs.natlas.io/docs/configuration/agent/</link><pubDate>Sun, 16 Aug 2020 00:00:00 +0000</pubDate><guid>/docs.natlas.io/docs/configuration/agent/</guid><description>
&lt;h2 id="environment-config">Environment Config&lt;/h2>
&lt;p>All agent configurations are controlled via environment variables. To make modifications to your agent, you can modify environment variables to match your specifications. These options should be placed in a file called &lt;code>.env&lt;/code> that gets mounted into your container in &lt;code>/opt/natlas/natlas-agent/.env&lt;/code>.&lt;/p>
&lt;h3 id="server-communication">Server Communication&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>NATLAS_SERVER_ADDRESS&lt;/code>&lt;/td>
&lt;td>&lt;code>http://127.0.0.1:5000&lt;/code>&lt;/td>
&lt;td>The server to get work from and submit work to.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_IGNORE_SSL_WARN&lt;/code>&lt;/td>
&lt;td>&lt;code>False&lt;/code>&lt;/td>
&lt;td>Ignore certificate errors when connecting to &lt;code>NATLAS_SERVER_ADDRESS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_REQUEST_TIMEOUT&lt;/code>&lt;/td>
&lt;td>&lt;code>15&lt;/code> (seconds)&lt;/td>
&lt;td>Time to wait for the server to respond&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_BACKOFF_MAX&lt;/code>&lt;/td>
&lt;td>&lt;code>300&lt;/code> (seconds)&lt;/td>
&lt;td>Maximum time for exponential backoff after failed requests&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_BACKOFF_BASE&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code> (second)&lt;/td>
&lt;td>Incremental time for exponential backoff after failed requests&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_MAX_RETRIES&lt;/code>&lt;/td>
&lt;td>&lt;code>10&lt;/code>&lt;/td>
&lt;td>Number of times to retry a request to the server before giving up&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="agent-authentication">Agent Authentication&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>NATLAS_AGENT_ID&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>ID string that identifies scans made by this host, required for agent authentication, optional if agent authentication is not required. Get this from your &lt;code>/user/&lt;/code> page on the Natlas server if agent authentication is enabled.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_AGENT_TOKEN&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>Secret token needed when agent authentication is required. Generate this with the ID on the &lt;code>/user/&lt;/code> page on the Natlas server.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="agent-behavior">Agent Behavior&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>NATLAS_MAX_THREADS&lt;/code>&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;td>Maximum number of concurrent scanning threads&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_SCAN_LOCAL&lt;/code>&lt;/td>
&lt;td>&lt;code>False&lt;/code>&lt;/td>
&lt;td>Don&amp;rsquo;t scan local addresses&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="instrumentation">Instrumentation&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>SENTRY_DSN&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>If set, enables automatic reporting of all exceptions to a &lt;a href="https://sentry.io/">Sentry.io instance&lt;/a>. Example: &lt;code>http://mytoken@mysentry.example.com/1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>SENTRY_ENVIRONMENT&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>Specifies the value to provided for the &lt;code>environment&lt;/code> tag in Sentry. Use it to differentiate between different stages or stacks. e.g. &lt;code>Beta&lt;/code> or &lt;code>Prod&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="development-settings">Development Settings&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Variable&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Explanation&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>NATLAS_SAVE_FAILS&lt;/code>&lt;/td>
&lt;td>&lt;code>False&lt;/code>&lt;/td>
&lt;td>Optionally save scan data that fails to upload for whatever reason. If you enable this, you will also want to mount a persistent data store at &lt;code>/data&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>NATLAS_VERSION_OVERRIDE&lt;/code>&lt;/td>
&lt;td>&lt;code>None&lt;/code>&lt;/td>
&lt;td>&lt;strong>Danger&lt;/strong>: This can be optionally set for development purposes to override the version string that natlas thinks it&amp;rsquo;s running. Doing this can have adverse affects and should only be done with caution. The only reason to really do this is if you&amp;rsquo;re developing changes to the way host data is stored and presented.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="example-env">Example ENV&lt;/h2>
&lt;p>At minimum, you&amp;rsquo;ll want to define these configuration options. Get &lt;code>NATLAS_AGENT_ID&lt;/code> and &lt;code>NATLAS_AGENT_TOKEN&lt;/code> from the &lt;code>/user/&lt;/code> profile page of your Natlas server.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#000">NATLAS_SERVER_ADDRESS&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>https://natlas.io
&lt;span style="color:#000">NATLAS_MAX_THREADS&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">25&lt;/span>
&lt;span style="color:#000">NATLAS_AGENT_ID&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>this-is-example-id
&lt;span style="color:#000">NATLAS_AGENT_TOKEN&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>this-is-obviously-an-example-token
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: NGINX as a Reverse Proxy</title><link>/docs.natlas.io/docs/configuration/nginx-as-a-reverse-proxy/</link><pubDate>Fri, 14 Aug 2020 00:00:00 +0000</pubDate><guid>/docs.natlas.io/docs/configuration/nginx-as-a-reverse-proxy/</guid><description>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>This section provides resources for setting up nginx as a reverse proxy for your Natlas server.&lt;/p>
&lt;/div>
&lt;p>It is not really advisable to run the flask application directly on the internet (or even on your local network). The flask application is just that, an application. It doesn&amp;rsquo;t account for things like SSL certificates, and modifying application logic to add in potential routes for things like Let&amp;rsquo;s Encrypt should be avoided. Luckily, it&amp;rsquo;s very easy to setup a reverse proxy so that all of this stuff can be handled by a proper web server and leave your application to do exactly what it&amp;rsquo;s supposed to do.&lt;/p>
&lt;p>We provide an example nginx configuration file, however you should familiarize yourself with how to use and secure nginx.&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/">Installing Nginx&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/">Nginx Reverse Proxy&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://certbot.eff.org/lets-encrypt/ubuntufocal-nginx">Using Certbot with Nginx&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.nginx.com/nginx/admin-guide/security-controls/">Nginx Security Controls&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ssl-config.mozilla.org/">Mozilla SSL Configuration Generator&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>You can grab our example config to help get started:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">sudo curl https://raw.githubusercontent.com/natlas/natlas/main/natlas-server/deployment/nginx &amp;gt; /etc/nginx/sites-available/natlas
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>